<!DOCTYPE html>
<html>
<head>
    <title>Insurance Simulation Game - Deployment Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1, h2, h3 {
            color: #0066cc;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 4px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        .note {
            background-color: #ffffcc;
            padding: 10px;
            border-left: 4px solid #ffcc00;
            margin: 15px 0;
        }
        .new {
            background-color: #e6ffe6;
            padding: 10px;
            border-left: 4px solid #00cc00;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>Insurance Simulation Game - Deployment Guide</h1>
    
    <h2>Build the Web Version</h2>
    <p>To build the web version of the game, run the included PowerShell script:</p>
    <pre>.\build_web.ps1</pre>
    <p>This will create a <code>build/web</code> directory with all the necessary files for deployment.</p>
    
    <div class="new">
        <h3>NEW: Progressive Web App Features</h3>
        <p>The game now supports PWA features that enable:</p>
        <ul>
            <li>Installation on home screens of mobile devices</li>
            <li>Offline play capability</li>
            <li>Touch screen controls</li>
            <li>Responsive design for different screen sizes</li>
        </ul>
        <p>These features are automatically included in the build.</p>
    </div>
    
    <h2>Deployment Options</h2>
    
    <h3>1. GitHub Pages</h3>
    <ol>
        <li>Create a new GitHub repository</li>
        <li>Push the contents of the <code>build/web</code> directory to this repository</li>
        <li>Go to repository Settings → Pages</li>
        <li>Enable GitHub Pages and select the main branch as the source</li>
        <li>Your game will be available at <code>https://yourusername.github.io/repositoryname/</code></li>
    </ol>
    
    <h3>2. Netlify</h3>
    <ol>
        <li>Create a Netlify account at <a href="https://netlify.com">netlify.com</a></li>
        <li>Click "Add new site" → "Import an existing project"</li>
        <li>Drag and drop the <code>build/web</code> directory onto the upload area</li>
        <li>Netlify will deploy your site and provide a custom URL</li>
        <li>You can customize the URL in the site settings</li>
    </ol>
    
    <h3>3. Any Web Hosting Service</h3>
    <ol>
        <li>Upload all files from the <code>build/web</code> directory to your web server</li>
        <li>Ensure the server has proper MIME types for WebAssembly files:</li>
        <li>Add <code>.wasm → application/wasm</code> to your server configuration</li>
    </ol>
    
    <div class="note">
        <strong>Note:</strong> Ensure your web hosting supports WebAssembly files and allows the proper CORS headers.
    </div>
    
    <h2>Progressive Web App (PWA) Configuration</h2>
    <p>The game is configured as a Progressive Web App, which means:</p>
    <ul>
        <li>Users can install it on their home screen on mobile devices</li>
        <li>It works offline once loaded</li>
        <li>It provides a more app-like experience</li>
    </ul>
    
    <h3>Configuring PWA Features</h3>
    <p>If you need to customize the PWA behavior:</p>
    <ol>
        <li>Edit <code>web_manifest.json</code> to change app name, icons, colors</li>
        <li>Edit <code>service-worker.js</code> to control caching behavior</li>
        <li>Run the build script again after making changes</li>
    </ol>
    
    <h2>Testing Your Deployment</h2>
    <p>After deployment, verify these features work correctly:</p>
    <ul>
        <li>Game loads correctly</li>
        <li>All UI elements are visible and responsive</li>
        <li>Canvas resizing works on different screen sizes</li>
        <li>Game saves and loads using browser localStorage</li>
        <li>PWA installation works (look for install prompt in browser)</li>
        <li>Touch controls work on mobile devices</li>
        <li>Game works offline after initial load</li>
    </ul>
    
    <h2>Troubleshooting</h2>
    <h3>Common Issues:</h3>
    <ul>
        <li><strong>Game doesn't load:</strong> Check browser console for errors, ensure all files were uploaded</li>
        <li><strong>Audio doesn't work:</strong> Some browsers require user interaction before playing audio</li>
        <li><strong>Save/Load errors:</strong> Check if localStorage is accessible (not in private browsing mode)</li>
        <li><strong>PWA install prompt not showing:</strong> Site must be served over HTTPS and visited multiple times</li>
        <li><strong>Service worker not registering:</strong> Check console for errors; make sure paths are correct</li>
        <li><strong>Touch not working:</strong> Make sure browser touch events are enabled</li>
    </ul>
    
    <h3>Browser Console Debugging</h3>
    <p>For better debugging in deployed environments:</p>
    <ol>
        <li>Press F12 to open developer tools in your browser</li>
        <li>Go to the Console tab to see game-specific log messages</li>
        <li>Check the Application tab to verify Service Worker registration and cache</li>
        <li>On mobile, use remote debugging tools like Chrome DevTools</li>
    </ol>
</body>
</html> 